/*! For license information please see 410.a0685fce.chunk.js.LICENSE.txt */
(self.webpackChunk_kne_components_components_ckeditor=self.webpackChunk_kne_components_components_ckeditor||[]).push([[156,410],{998:(t,e,o)=>{"use strict";var r=o(3884),n=Symbol.for("react.element"),a=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function l(t,e,o){var r,a={},l=null,d=null;for(r in void 0!==o&&(l=""+o),void 0!==e.key&&(l=""+e.key),void 0!==e.ref&&(d=e.ref),e)s.call(e,r)&&!c.hasOwnProperty(r)&&(a[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps)void 0===a[r]&&(a[r]=e[r]);return{$$typeof:n,type:t,key:l,ref:d,props:a,_owner:i.current}}e.jsx=l,e.jsxs=l},2399:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>a});var r=o(4037);class n{constructor(t,e){this.loader=t,this.options=e,this.base64MaxWidth=e.base64MaxWidth||600,this.base64MaxHeight=e.base64MaxHeight||600}async upload(){const t=await this.loader.file;if("function"!==typeof this.options.upload){console.warn("\u5f53\u524d\u56fe\u7247\u4e0a\u4f20\u4e3abase64\u6a21\u5f0f\uff0c\u6b63\u5f0f\u73af\u5883\u8bf7\u5728preset apis\u8bbe\u7f6efile.upload,\u6216\u8005\u7ed9CKEditor\u7ec4\u4ef6\u4f20\u5165 config.ossUpload.upload\u53c2\u6570");const r=await new Promise((e=>{const o=new FileReader;o.onload=()=>{e(o.result)},o.readAsDataURL(t)}));return{default:await(e=r,o=this.base64MaxWidth,n=this.base64MaxHeight,new Promise(((t,r)=>{const a=new Image;a.src=e,a.onload=function(){const e=document.createElement("canvas"),r=e.getContext("2d"),s=a.width/o,i=a.height/n,c=Math.max(s,i,1);e.width=a.width/c,e.height=a.height/c,r.drawImage(a,0,0,e.width,e.height);const l=e.toDataURL("image/png");t(l)},a.onerror=function(t){r(t)}})))}}var e,o,n;const{data:a}=await this.options.upload({file:t});return 0!==a.code?(this.options.message.error(a.msg),{default:r.A}):{default:a.data}}}const a=function(t){const e=t.config.get("message"),o=Object.assign({},{message:e},t.config.get("ossUpload"));t.plugins.get("FileRepository").createUploadAdapter=t=>new n(t,o),t.editing.view.document.on("clipboardInput",((n,a)=>{if(t.isReadOnly)return;const s=a.dataTransfer.getData("text/html"),i=(new DOMParser).parseFromString(s,"text/html");if(0===i.querySelectorAll("img").length)return;a.content=t.data.htmlProcessor.toView("");const c=e.loading("\u7c98\u8d34\u5185\u5bb9\u4e2d\u542b\u6709\u56fe\u7247\uff0c\u6b63\u5728\u8fdb\u884c\u56fe\u7247\u4e0a\u4f20...",{duration:0});Promise.all([].slice.call(i.querySelectorAll("img"),0).map((async t=>{if("function"!==typeof o.uploadUrl)return void console.warn("\u56fe\u7247\u4e0a\u4f20\u5931\u8d25\uff0c\u8bf7\u5728preset apis\u8bbe\u7f6efile.uploadUrl,\u6216\u8005\u7ed9CKEditor\u7ec4\u4ef6\u4f20\u5165 config.ossUpload.uploadUrl\u53c2\u6570");const{code:e,data:n,msg:a}=await o.uploadUrl({url:t.src});if(0!==e)return console.warn(`\u56fe\u7247\u4e0a\u4f20\u5931\u8d25\uff0c${a}`),void(t.src=r.A);t.src=n}))).then((()=>{t.model.insertContent(t.data.toModel(t.data.htmlProcessor.toView(i.documentElement.outerHTML)))})).finally((()=>{c()}))}))}},3446:(t,e,o)=>{"use strict";t.exports=o(998)},4156:(t,e)=>{var o;!function(){"use strict";var r={}.hasOwnProperty;function n(){for(var t="",e=0;e<arguments.length;e++){var o=arguments[e];o&&(t=s(t,a(o)))}return t}function a(t){if("string"===typeof t||"number"===typeof t)return t;if("object"!==typeof t)return"";if(Array.isArray(t))return n.apply(null,t);if(t.toString!==Object.prototype.toString&&!t.toString.toString().includes("[native code]"))return t.toString();var e="";for(var o in t)r.call(t,o)&&t[o]&&(e=s(e,o));return e}function s(t,e){return e?t?t+" "+e:t+e:t}t.exports?(n.default=n,t.exports=n):void 0===(o=function(){return n}.apply(e,[]))||(t.exports=o)}()},4816:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>a,manifest:()=>s});var r=o(3373),n=o(720);const a={ComponentBox:r.A,Editor:n.A},s={name:"components-ckeditor",version:"0.2.3","open-version":!0,"public-url":"/components-ckeditor",modules:[{name:"ComponentBox",baseDir:"/home/runner/work/components-ckeditor/components-ckeditor/src/components/ComponentBox"},{name:"Editor",baseDir:"/home/runner/work/components-ckeditor/components-ckeditor/src/components/Editor"}]}}}]);
//# sourceMappingURL=410.a0685fce.chunk.js.map