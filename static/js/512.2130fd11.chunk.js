/*! For license information please see 512.2130fd11.chunk.js.LICENSE.txt */
(self.webpackChunk_kne_components_components_ckeditor=self.webpackChunk_kne_components_components_ckeditor||[]).push([[156,512,637],{998:(e,t,o)=>{"use strict";var r=o(3884),s=Symbol.for("react.element"),a=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,o){var r,a={},c=null,d=null;for(r in void 0!==o&&(c=""+o),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)n.call(t,r)&&!l.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:s,type:e,key:c,ref:d,props:a,_owner:i.current}}t.jsx=c,t.jsxs=c},2399:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>a});var r=o(4037);class s{constructor(e,t){this.loader=e,this.options=t,this.base64MaxWidth=t.base64MaxWidth||600,this.base64MaxHeight=t.base64MaxHeight||600}async upload(){const e=await this.loader.file;if("function"!==typeof this.options.upload){console.warn("\u5f53\u524d\u56fe\u7247\u4e0a\u4f20\u4e3abase64\u6a21\u5f0f\uff0c\u6b63\u5f0f\u73af\u5883\u8bf7\u5728preset apis\u8bbe\u7f6efile.upload,\u6216\u8005\u7ed9CKEditor\u7ec4\u4ef6\u4f20\u5165 config.ossUpload.upload\u53c2\u6570");const r=await new Promise((t=>{const o=new FileReader;o.onload=()=>{t(o.result)},o.readAsDataURL(e)}));return{default:await(t=r,o=this.base64MaxWidth,s=this.base64MaxHeight,new Promise(((e,r)=>{const a=new Image;a.src=t,a.onload=function(){const t=document.createElement("canvas"),r=t.getContext("2d"),n=a.width/o,i=a.height/s,l=Math.max(n,i,1);t.width=a.width/l,t.height=a.height/l,r.drawImage(a,0,0,t.width,t.height);const c=t.toDataURL("image/png");e(c)},a.onerror=function(e){r(e)}})))}}var t,o,s;const{data:a}=await this.options.upload({file:e});return 0!==a.code?(this.options.message.error(a.msg),{default:r.A}):{default:a.data}}}const a=function(e){const t=e.config.get("message"),o=Object.assign({},{message:t},e.config.get("ossUpload"));e.plugins.get("FileRepository").createUploadAdapter=e=>new s(e,o),e.editing.view.document.on("clipboardInput",((s,a)=>{if(e.isReadOnly)return;const n=a.dataTransfer.getData("text/html"),i=(new DOMParser).parseFromString(n,"text/html");if(0===i.querySelectorAll("img").length)return;a.content=e.data.htmlProcessor.toView("");const l=t.loading("\u7c98\u8d34\u5185\u5bb9\u4e2d\u542b\u6709\u56fe\u7247\uff0c\u6b63\u5728\u8fdb\u884c\u56fe\u7247\u4e0a\u4f20...",{duration:0});Promise.all([].slice.call(i.querySelectorAll("img"),0).map((async e=>{if("function"!==typeof o.uploadUrl)return void console.warn("\u56fe\u7247\u4e0a\u4f20\u5931\u8d25\uff0c\u8bf7\u5728preset apis\u8bbe\u7f6efile.uploadUrl,\u6216\u8005\u7ed9CKEditor\u7ec4\u4ef6\u4f20\u5165 config.ossUpload.uploadUrl\u53c2\u6570");const{code:t,data:s,msg:a}=await o.uploadUrl({url:e.src});if(0!==t)return console.warn(`\u56fe\u7247\u4e0a\u4f20\u5931\u8d25\uff0c${a}`),void(e.src=r.A);e.src=s}))).then((()=>{e.model.insertContent(e.data.toModel(e.data.htmlProcessor.toView(i.documentElement.outerHTML)))})).finally((()=>{l()}))}))}},3446:(e,t,o)=>{"use strict";e.exports=o(998)},4037:(e,t,o)=>{"use strict";o.d(t,{A:()=>r});o(3884);const r=o.p+"static/media/img_fail.92f698baf5c5ad60bf4437eb46f9525a.svg"},4156:(e,t)=>{var o;!function(){"use strict";var r={}.hasOwnProperty;function s(){for(var e="",t=0;t<arguments.length;t++){var o=arguments[t];o&&(e=n(e,a(o)))}return e}function a(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return s.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var o in e)r.call(e,o)&&e[o]&&(t=n(t,o));return t}function n(e,t){return t?e?e+" "+t:e+t:e}e.exports?(s.default=s,e.exports=s):void 0===(o=function(){return s}.apply(t,[]))||(e.exports=o)}()},6512:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>O});var r=o(3884);const s="style_editor__sRX1d__kusnU",a="style_word-count__8OS-O__kusnU",n="style_surplus-count__1Ml-M__kusnU",i="style_error__0sOJZ__kusnU";var l=o(3050),c=o(7558),d=o.n(c);const u={loading:null,loader:async e=>{let{params:t}=e;const o=(null===t||void 0===t?void 0:t.locale)||"zh-cn";return await(0,l.getOrLoadRemote)("ClassicEditor","",(0,l.getPublicPath)("components-ckeditor")+`/ckeditor/${"zh-cn"===o?"zh-cn":"en"}/ckeditor.js`),{CKEditor:window.ClassicEditor}}};(0,c.createWithFetch)(u);var p=o(252),m=o(4156),g=o.n(m),f=o(8529),h=o.n(f),_=o(2399),y=o(5199),v=o(5534),w=o.n(v),b=o(3446);const k={wordCount:{displayWords:!1},toolbar:{items:["undo","redo","|","heading","style","|","bold","italic","underline","strikethrough","link","bulletedList","numberedList","todoList","fontBackgroundColor","fontColor","fontSize","|","alignment","pageBreak","outdent","indent","|","specialCharacters","subscript","superscript","|","imageUpload","blockQuote","insertTable","highlight","horizontalLine","|","selectAll","removeFormat"]},list:{properties:{styles:!0,startIndex:!0,reversed:!0}},style:{definitions:[{name:"Headings",element:"h2",classes:["primary-part-title"]},{name:"Subheadings",element:"h3",classes:["part-title"]},{name:"Paragraph",element:"p",classes:["part-content"]},{name:"Card",element:"p",classes:["card"]},{name:"Primary Card",element:"p",classes:["primary-card"]},{name:"Keywords",element:"span",classes:["key-word"]}]}},x=e=>{let{locale:t,config:o,pluginLoaders:r=[],...s}=e;const{message:a}=y.App.useApp();return(0,b.jsx)(d(),{...Object.assign({},u,{params:{locale:t}}),render:e=>{let{data:t}=e;const{CKEditor:n}=t,i=r.map((e=>e(n.libs)));return(0,b.jsx)(p.CKEditor,{...s,editor:n,config:w()({},{message:a},k,o,{extraPlugins:[_.default,...i]})})}})},C=(0,l.createWithRemoteLoader)({modules:["components-core:Global@usePreset"]})((e=>{var t,o;let{remoteModules:l,...c}=e;const[d]=l,{apis:u,locale:p}=d(),{className:m,config:f,pluginLoaders:_,data:v,maxLength:k,wordCount:C,ossUpload:U,...O}=Object.assign({},{maxLength:5e3,pluginLoaders:[],wordCount:!1},c),[L,j]=h()(O),[S,P]=(0,r.useState)(0),{message:E}=y.App.useApp();return(0,b.jsxs)("div",{className:g()(m,s),children:[(0,b.jsx)(x,{locale:p,onReady:e=>{const t=e.plugins.get("WordCount");P(t.characters)},data:L,onChange:(e,t)=>{const o=t.plugins.get("WordCount");if(k&&o.characters>k)return E.error("\u8f93\u5165\u5185\u5bb9\u8d85\u8fc7\u6700\u5927\u5b57\u7b26\u9650\u5236"),void t.setData(L);P(o.characters);const r=t.getData();j(r)},config:w()({ossUpload:{upload:null===u||void 0===u||null===(t=u.file)||void 0===t?void 0:t.upload,uploadUrl:null===u||void 0===u||null===(o=u.file)||void 0===o?void 0:o.uploadUrl}},f,{ossUpload:U})}),C&&(0,b.jsxs)("div",{className:a,children:[(0,b.jsxs)("div",{children:["\u5f53\u524d\u5b57\u7b26:",S]}),(0,b.jsxs)("div",{className:g()(n,k&&{[i]:k-S<50}),children:["\u5269\u4f59\u5b57\u7b26:",k-S]})]})]})})),U=(0,l.createWithRemoteLoader)({modules:["components-core:FormInfo@hooks"]})((e=>{let{remoteModules:t,...o}=e;const[r]=t,{useDecorator:s}=r;return s(Object.assign({},o))(C)}));U.Field=C,U.Content=e=>{let{className:t,children:o}=e;return(0,b.jsx)("div",{className:g()("ck ck-content",t),dangerouslySetInnerHTML:{__html:o}})},U.defaultEditorConfig=k;const O=U}}]);
//# sourceMappingURL=512.2130fd11.chunk.js.map