{"version":3,"file":"static/js/994.1849f4ce.chunk.js","mappings":"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","sources":["components/ComponentBox/README.md","components/Editor/README.md","components/OssUploadAdapterPlugin/README.md","components/ComponentBox/componentBoxEditingLoader.js","components/ComponentBox/componentBoxUILoader.js","components/ComponentBox/icon.raw.svg","components/ComponentBox/componentBoxUtilLoader.js","components/ComponentBox/componentBoxToolbarLoader.js","components/ComponentBox/props-icon.raw.svg","components/ComponentBox/index.js","webpack://@kne-components/components-ckeditor/./src/components/Editor/style.module.scss?82a8","common/loadCKEditor.js","components/Editor/index.js","components/OssUploadAdapterPlugin/img_fail.svg","components/OssUploadAdapterPlugin/index.js"],"sourcesContent":["import * as component_1 from '@components/Editor';\nimport * as component_2 from '@components/ComponentBox';\nconst readmeConfig = {\n    name: `ComponentBox`,\n    summary: `<p>添加一个html组件到富文本编辑器</p>`,\n    \n    \n    api: `<table>\n<thead>\n<tr>\n<th>属性名</th>\n<th>说明</th>\n<th>类型</th>\n<th>默认值</th>\n</tr>\n</thead>\n</table>`,\n    example: {\n        isFull: false,\n        className: `ComponentBox_492c9`,\n        style: ``,\n        list: [{\n    title: `这里填写示例标题`,\n    description: `这里填写示例说明`,\n    code: `const { default: Editor } = _Editor;\nconst { default: componentBoxLoader } = _ComponentBox;\nconst BaseExample = () => {\n  return (\n    <Editor.Field\n      pluginLoaders={[componentBoxLoader]}\n      config={{\n        toolbar: {\n          items: ['componentBox']\n        },\n        componentBox: {\n          list: [\n            {\n              type: 'Example1',\n              name: '示例1',\n              defaultProps: {\n                test: '111111'\n              },\n              render: (dom, props) => {\n                dom.innerHTML = '<span>哈哈哈哈</span>';\n              }\n            },\n            {\n              type: 'Example2',\n              name: '示例2',\n              render: (dom, props) => {\n                dom.innerHTML = '<span>哈哈哈哈2222222</span>';\n              }\n            }\n          ]\n        }\n      }}\n    />\n  );\n};\n\nrender(<BaseExample />);\n\n`,\n    scope: [{\n    name: \"_Editor\",\n    packageName: \"@components/Editor\",\n    component: component_1\n},{\n    name: \"_ComponentBox\",\n    packageName: \"@components/ComponentBox\",\n    component: component_2\n}]\n}]\n    }\n};\nexport default readmeConfig;\n","import * as component_5 from '@components/Editor';\nimport * as component_6 from '@kne/remote-loader';\nconst readmeConfig = {\n    name: `Editor`,\n    summary: `<p>富文本编辑器ckeditor的封装</p>`,\n    \n    \n    api: `<table>\n<thead>\n<tr>\n<th>属性名</th>\n<th>说明</th>\n<th>类型</th>\n<th>默认值</th>\n</tr>\n</thead>\n</table>`,\n    example: {\n        isFull: false,\n        className: `Editor_344a7`,\n        style: ``,\n        list: [{\n    title: `这里填写示例标题`,\n    description: `这里填写示例说明`,\n    code: `const {default: Editor} = _Editor;\nconst { useState } = React;\nconst BaseExample = () => {\n    const [value, onChange] = useState(\"<p>请输入内容</p>\");\n    return <div>\n        <Editor.Field value={value} onChange={onChange}/>\n        <div>预览：</div>\n        <Editor.Content value={value}/>\n    </div>;\n};\n\nrender(<BaseExample/>);\n\n`,\n    scope: [{\n    name: \"_Editor\",\n    packageName: \"@components/Editor\",\n    component: component_5\n}]\n},{\n    title: `在表单中使用`,\n    description: `在表单中使用`,\n    code: `const { default: CKEditor } = _Editor;\nconst { createWithRemoteLoader } = remoteLoader;\nconst BaseExample = createWithRemoteLoader({\n    modules: [\"components-core:FormInfo\", \"components-core:FormInfo@formModule\"],\n})(({ remoteModules }) => {\n    const [FormInfo, formModule] = remoteModules;\n    const { Form, SubmitButton } = formModule;\n    return (\n        <Form\n            data={{\n                des: '富文本内容',\n            }}\n            onSubmit={(data) => {\n                console.log(data);\n            }}\n        >\n            <FormInfo\n                title=\"在表单中使用\"\n                column={1}\n                list={[<CKEditor label=\"富文本\" name=\"des\" />]}\n                rule=\"REQ\"\n            />\n            <SubmitButton type=\"primary\" block>\n                提交\n            </SubmitButton>\n        </Form>\n    );\n});\n\nrender(<BaseExample />);\n\n`,\n    scope: [{\n    name: \"_Editor\",\n    packageName: \"@components/Editor\",\n    component: component_5\n},{\n    name: \"remoteLoader\",\n    packageName: \"@kne/remote-loader\",\n    component: component_6\n}]\n}]\n    }\n};\nexport default readmeConfig;\n","import * as component_3 from '@components/Editor';\nimport * as component_4 from '@components/OssUploadAdapterPlugin';\nconst readmeConfig = {\n    name: `OssUploadAdapterPlugin`,\n    summary: `<p>图片上传Oss适配器，Editor组件已经默认加载该适配器，不需要单独配置添加</p>`,\n    \n    \n    api: `<table>\n<thead>\n<tr>\n<th>属性名</th>\n<th>说明</th>\n<th>类型</th>\n<th>默认值</th>\n</tr>\n</thead>\n</table>`,\n    example: {\n        isFull: false,\n        className: `OssUploadAdapterPlugin_5f179`,\n        style: ``,\n        list: [{\n    title: `这里填写示例标题`,\n    description: `这里填写示例说明`,\n    code: `const { default: Editor } = _Editor;\nconst { useState } = React;\nconst BaseExample = () => {\n  const [value, onChange] = useState('<p>请输入内容</p>');\n  return (\n    <div>\n      <Editor.Field\n        value={value}\n        onChange={onChange}\n        config={{\n          toolbar: {\n            items: ['imageUpload']\n          }\n        }}\n      />\n      <div>预览：</div>\n      <Editor.Content value={value} />\n    </div>\n  );\n};\n\nrender(<BaseExample />);\n\n`,\n    scope: [{\n    name: \"_Editor\",\n    packageName: \"@components/Editor\",\n    component: component_3\n},{\n    name: \"_OssUploadAdapterPlugin\",\n    packageName: \"@components/OssUploadAdapterPlugin\",\n    component: component_4\n}]\n}]\n    }\n};\nexport default readmeConfig;\n","const componentBoxEditingLoader = ({ core, widget }) => {\n  const { Command, Plugin } = core;\n  const { toWidget, Widget } = widget;\n\n  class InsertProductPreviewCommand extends Command {\n    execute({ type, props }) {\n      this.editor.model.change(writer => {\n        this.editor.model.insertContent(\n          writer.createElement('componentBox', {\n            'data-type': type,\n            'data-props': props\n          })\n        );\n      });\n    }\n\n    refresh() {\n      const model = this.editor.model;\n      const selection = model.document.selection;\n      const allowedIn = model.schema.findAllowedParent(selection.getFirstPosition(), 'componentBox');\n\n      this.isEnabled = allowedIn !== null;\n    }\n  }\n\n  class ComponentBoxEditing extends Plugin {\n    static get requires() {\n      return [Widget];\n    }\n\n    init() {\n      this._defineSchema();\n      this._defineConverters();\n\n      this.editor.commands.add('insertComponentBox', new InsertProductPreviewCommand(this.editor));\n    }\n\n    _defineSchema() {\n      const schema = this.editor.model.schema;\n\n      schema.register('componentBox', {\n        inheritAllFrom: '$blockObject',\n        allowAttributes: ['data-type', 'data-props']\n      });\n    }\n\n    _defineConverters() {\n      const editor = this.editor;\n      const conversion = editor.conversion;\n      const componentBoxList = editor.config.get('componentBox')?.list || [];\n\n      conversion.for('upcast').elementToElement({\n        model: (viewElement, { writer }) => {\n          const props = viewElement.getAttribute('data-props'),\n            type = viewElement.getAttribute('data-type');\n          return writer.createElement('componentBox', {\n            'data-type': type,\n            'data-props': props\n          });\n        },\n        view: {\n          name: 'section',\n          classes: 'component-box'\n        }\n      });\n\n      const createSection = (modelElement, { writer }) => {\n        const type = modelElement.getAttribute('data-type'),\n          props = modelElement.getAttribute('data-props');\n        const section = writer.createContainerElement('section', {\n          class: 'component-box',\n          'data-type': type,\n          'data-props': JSON.stringify(props)\n        });\n\n        const componentWrapper = writer.createRawElement(\n          'div',\n          {\n            class: 'component-box-wrapper'\n          },\n          element => {\n            componentBoxList.find(item => item.type === type)?.['render']?.(element, props);\n          }\n        );\n\n        writer.insert(writer.createPositionAt(section, 0), componentWrapper);\n        return section;\n      };\n\n      conversion.for('dataDowncast').elementToElement({\n        model: 'componentBox',\n        view: (modelElement, { writer }) => createSection(modelElement, { writer })\n      });\n\n      conversion.for('editingDowncast').elementToElement({\n        model: 'componentBox',\n        view: (modelElement, { writer }) => {\n          const section = createSection(modelElement, { writer });\n          return toWidget(section, writer, { label: 'component box widget', hasSelectionHandle: true });\n        }\n      });\n    }\n  }\n\n  return ComponentBoxEditing;\n};\n\nexport default componentBoxEditingLoader;\n","import icon from './icon.raw.svg';\nconst componentBoxUILoader = ({ core, ui }) => {\n  const { Plugin } = core;\n  const { addToolbarToDropdown, ButtonView, createDropdown, View } = ui;\n  class PanelView extends View {\n    constructor(locale, children) {\n      super(locale);\n      this.children = children;\n      this.setTemplate({\n        tag: 'div',\n        attributes: {\n          class: ['ck', 'ck-style-grid'],\n          role: 'listbox'\n        },\n\n        children: this.children\n      });\n    }\n  }\n\n  class ComponentBoxUI extends Plugin {\n    init() {\n      const editor = this.editor;\n      const t = editor.t;\n      const componentBoxList = editor.config.get('componentBox')?.list || [];\n      if (componentBoxList.length === 0) {\n        return;\n      }\n      editor.ui.componentFactory.add('componentBox', local => {\n        const enabledDropdown = createDropdown(local);\n        enabledDropdown.buttonView.set({\n          withText: false,\n          label: t('ComponentBox'),\n          icon,\n          tooltip: true\n        });\n        const panelView = new PanelView(\n          local,\n          componentBoxList.map(({ type, name, defaultProps }) => {\n            const buttonView = new ButtonView(local);\n            buttonView.set({\n              label: name,\n              withText: true,\n              tooltip: true\n            });\n            this.listenTo(buttonView, 'execute', () => {\n              return editor.execute('insertComponentBox', { type, props: defaultProps || {} });\n            });\n            return buttonView;\n          })\n        );\n        addToolbarToDropdown(enabledDropdown, [panelView]);\n        return enabledDropdown;\n      });\n    }\n  }\n\n  return ComponentBoxUI;\n};\n\nexport default componentBoxUILoader;\n","export default \"<?xml version=\\\"1.0\\\" standalone=\\\"no\\\"?><!DOCTYPE svg PUBLIC \\\"-//W3C//DTD SVG 1.1//EN\\\" \\\"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\\\"><svg t=\\\"1696642601020\\\" class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" p-id=\\\"10458\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" width=\\\"200\\\" height=\\\"200\\\"><path d=\\\"M384 480h-128c-52.8 0-96-43.2-96-96v-128c0-52.8 43.2-96 96-96h128c52.8 0 96 43.2 96 96v128c0 52.8-43.2 96-96 96z m-128-256c-17.6 0-32 14.4-32 32v128c0 17.6 14.4 32 32 32h128c17.6 0 32-14.4 32-32v-128c0-17.6-14.4-32-32-32h-128zM768 480h-128c-52.8 0-96-43.2-96-96v-128c0-52.8 43.2-96 96-96h128c52.8 0 96 43.2 96 96v128c0 52.8-43.2 96-96 96z m-128-256c-17.6 0-32 14.4-32 32v128c0 17.6 14.4 32 32 32h128c17.6 0 32-14.4 32-32v-128c0-17.6-14.4-32-32-32h-128zM384 864h-128c-52.8 0-96-43.2-96-96v-128c0-52.8 43.2-96 96-96h128c52.8 0 96 43.2 96 96v128c0 52.8-43.2 96-96 96z m-128-256c-17.6 0-32 14.4-32 32v128c0 17.6 14.4 32 32 32h128c17.6 0 32-14.4 32-32v-128c0-17.6-14.4-32-32-32h-128zM768 864h-128c-52.8 0-96-43.2-96-96v-128c0-52.8 43.2-96 96-96h128c52.8 0 96 43.2 96 96v128c0 52.8-43.2 96-96 96z m-128-256c-17.6 0-32 14.4-32 32v128c0 17.6 14.4 32 32 32h128c17.6 0 32-14.4 32-32v-128c0-17.6-14.4-32-32-32h-128z\\\" p-id=\\\"10459\\\"></path></svg>\";","const componentBoxUtilLoader = ({ core }) => {\n  const { Plugin } = core;\n  return class ComponentBoxUtil extends Plugin {\n    static get pluginName() {\n      return 'ComponentBoxUtil';\n    }\n\n    getClosestSelectedWidget = selection => {\n      const editor = this.editor;\n      const mapper = editor.editing.mapper;\n      const selectionPosition = selection.getFirstPosition();\n\n      if (!selectionPosition) {\n        return null;\n      }\n\n      const viewElement = selection.getSelectedElement();\n\n      if (viewElement && mapper.toModelElement(viewElement).name === 'componentBox') {\n        return viewElement;\n      }\n\n      return null;\n    };\n  };\n};\n\nexport default componentBoxUtilLoader;\n","import propsIcon from './props-icon.raw.svg';\nimport componentBoxUtilLoader from './componentBoxUtilLoader';\n\nconst componentBoxToolbarLoader = ({ core, ui, widget }) => {\n  const { icons, Plugin } = core;\n  const { BalloonPanelView, ButtonView, ContextualBalloon, createLabeledInputText, CssTransitionDisablerMixin, LabeledFieldView, LabelView, submitHandler, View } = ui;\n  const { WidgetToolbarRepository } = widget;\n  const ComponentBoxUtil = componentBoxUtilLoader({ core, ui, widget });\n\n  function getBalloonPositionData(editor) {\n    const editingView = editor.editing.view;\n    const defaultPositions = BalloonPanelView.defaultPositions;\n    const componentBoxUtil = editor.plugins.get('ComponentBoxUtil');\n\n    return {\n      target: editingView.domConverter.mapViewToDom(componentBoxUtil.getClosestSelectedWidget(editingView.document.selection)),\n      positions: [\n        defaultPositions.northArrowSouth,\n        defaultPositions.northArrowSouthWest,\n        defaultPositions.northArrowSouthEast,\n        defaultPositions.southArrowNorth,\n        defaultPositions.southArrowNorthWest,\n        defaultPositions.southArrowNorthEast,\n        defaultPositions.viewportStickyNorth\n      ]\n    };\n  }\n\n  function repositionContextualBalloon(editor) {\n    const balloon = editor.plugins.get('ContextualBalloon');\n    const componentBoxUtil = editor.plugins.get('ComponentBoxUtil');\n\n    if (componentBoxUtil.getClosestSelectedWidget(editor.editing.view.document.selection)) {\n      const position = getBalloonPositionData(editor);\n      balloon.updatePosition(position);\n    }\n  }\n\n  class ComponentBoxToolbarForm extends View {\n    constructor(locale) {\n      // Previously created elements.\n      // ...\n      super(locale);\n\n      this.abbrInputView = this._createInput('Add abbreviation');\n      this.titleInputView = this._createInput('Add title');\n\n      this.saveButtonView = this._createButton('Save', icons.check, 'ck-button-save');\n      this.saveButtonView.type = 'submit';\n\n      this.cancelButtonView = this._createButton('Cancel', icons.cancel, 'ck-button-cancel');\n\n      const label = new LabelView(locale);\n      label.text = '组件属性';\n      this.childViews = this.createCollection([label, this.abbrInputView, this.titleInputView, this.saveButtonView, this.cancelButtonView]);\n\n      this.setTemplate({\n        tag: 'form',\n        attributes: {\n          class: ['ck', 'ck-abbr-form'],\n          tabindex: '-1'\n        },\n        children: this.childViews // ADDED\n      });\n\n      /*this.listenTo(this, 'submit', () => {\n               // console.log('xxxxxx', this.abbrInputView.fieldView.value, this.titleInputView.fieldView.value);\n\n                // this.editor.editing.view.focus();\n            })*/\n    }\n\n    render() {\n      super.render();\n      submitHandler({\n        view: this\n      });\n    }\n\n    focus() {\n      this.childViews.first.focus();\n    }\n\n    _createInput(label) {\n      const labeledInput = new LabeledFieldView(this.locale, createLabeledInputText);\n\n      labeledInput.label = label;\n\n      return labeledInput;\n    }\n\n    _createButton(label, icon, className) {\n      const button = new ButtonView();\n\n      button.set({\n        label,\n        icon,\n        tooltip: true,\n        class: className\n      });\n\n      return button;\n    }\n  }\n\n  class ComponentBoxToolbarUI extends Plugin {\n    static get requires() {\n      return [ComponentBoxToolbarForm, ContextualBalloon, ComponentBoxUtil];\n    }\n\n    static get pluginName() {\n      return 'ComponentBoxToolbarUI';\n    }\n\n    get _isVisible() {\n      return !!this._balloon && this._balloon.visibleView === this._form;\n    }\n\n    get _isInBalloon() {\n      return !!this._balloon && this._balloon.hasView(this._form);\n    }\n\n    destroy() {\n      super.destroy();\n      if (this._form) {\n        this._form.destroy();\n      }\n    }\n\n    _createButton() {\n      const editor = this.editor;\n      const t = editor.t;\n\n      editor.ui.componentFactory.add('componentBoxProps', locale => {\n        const command = editor.commands.get('componentBoxProps');\n        const view = new ButtonView(locale);\n\n        view.set({\n          label: t('属性设置'),\n          icon: propsIcon,\n          tooltip: true\n        });\n\n        //view.bind('isEnabled').to(command, 'isEnabled');\n        //view.bind('isOn').to(command, 'value', value => !!value);\n\n        this.listenTo(view, 'execute', () => {\n          this._showForm();\n        });\n\n        return view;\n      });\n    }\n\n    _createForm() {\n      const editor = this.editor;\n      const view = editor.editing.view;\n      const viewDocument = view.document;\n      const componentBoxUtil = editor.plugins.get('ComponentBoxUtil');\n      this._balloon = this.editor.plugins.get('ContextualBalloon');\n      this._form = new (CssTransitionDisablerMixin(ComponentBoxToolbarForm))(editor.locale);\n\n      this._form.render();\n\n      this.listenTo(this._form, 'submit', () => {\n        this._hideForm(true);\n      });\n\n      this.listenTo(this._form, 'cancel', () => {\n        this._hideForm(true);\n      });\n\n      console.log(view.keystrokes);\n\n      /*this._form.keystrokes.set('Esc', (data, cancel) => {\n                this._hideForm(true);\n                cancel();\n            });*/\n\n      this.listenTo(editor.ui, 'update', () => {\n        if (!componentBoxUtil.getClosestSelectedWidget(viewDocument.selection)) {\n          this._hideForm(true);\n        } else if (this._isVisible) {\n          repositionContextualBalloon(editor);\n        }\n      });\n    }\n\n    _showForm() {\n      if (this._isVisible) {\n        return;\n      }\n\n      if (!this._form) {\n        this._createForm();\n      }\n\n      const editor = this.editor;\n      //const command = editor.commands.get('imageTextAlternative');\n      //const labeledInput = this._form?.labeledInput;\n\n      this._form.disableCssTransitions();\n\n      if (!this._isInBalloon) {\n        this._balloon?.add({\n          view: this._form,\n          position: getBalloonPositionData(editor)\n        });\n      }\n\n      // Make sure that each time the panel shows up, the field remains in sync with the value of\n      // the command. If the user typed in the input, then canceled the balloon (`labeledInput#value`\n      // stays unaltered) and re-opened it without changing the value of the command, they would see the\n      // old value instead of the actual value of the command.\n      // https://github.com/ckeditor/ckeditor5-image/issues/114\n      //labeledInput.fieldView.value = labeledInput.fieldView.element!.value = command.value || '';\n\n      //this._form.labeledInput.fieldView.select();\n\n      this._form.enableCssTransitions();\n    }\n\n    _hideForm(focusEditable = false) {\n      if (!this._isInBalloon) {\n        return;\n      }\n\n      if (this._form.focusTracker.isFocused) {\n        this._form.saveButtonView.focus();\n      }\n\n      this._balloon.remove(this._form);\n\n      if (focusEditable) {\n        this.editor.editing.view.focus();\n      }\n    }\n\n    init() {\n      this._createButton();\n    }\n  }\n\n  class ComponentBoxToolbar extends Plugin {\n    static get pluginName() {\n      return 'ComponentBoxToolbar';\n    }\n\n    static get requires() {\n      return [ComponentBoxToolbarUI, ComponentBoxUtil];\n    }\n\n    afterInit() {\n      const editor = this.editor;\n      const componentBoxUtil = editor.plugins.get('ComponentBoxUtil');\n      const widgetToolbarRepository = editor.plugins.get(WidgetToolbarRepository);\n      widgetToolbarRepository.register('componentBox', {\n        items: ['componentBoxProps'],\n        getRelatedElement: componentBoxUtil.getClosestSelectedWidget\n      });\n    }\n  }\n\n  return ComponentBoxToolbar;\n};\n\nexport default componentBoxToolbarLoader;\n","export default \"<?xml version=\\\"1.0\\\" standalone=\\\"no\\\"?><!DOCTYPE svg PUBLIC \\\"-//W3C//DTD SVG 1.1//EN\\\" \\\"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\\\"><svg t=\\\"1696668156648\\\" class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" p-id=\\\"5490\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" width=\\\"200\\\" height=\\\"200\\\"><path d=\\\"M323.333 653.333c-16.8 0-30 13.2-30 30s13.2 30 30 30c16.8 0 30-13.2 30-30 0-16.8-13.2-30-30-30zM323.333 293.333c-16.8 0-30 13.2-30 30s13.2 30 30 30c16.8 0 30-13.2 30-30 0-16.8-13.2-30-30-30zM323.333 473.333c-16.8 0-30 13.2-30 30s13.2 30 30 30c16.8 0 30-13.2 30-30 0-16.8-13.2-30-30-30zM773.333 113.333h-540c-66 0-120 54-120 120v540c0 66 54 120 120 120h540c66 0 120-54 120-120v-540c0-66-54-120-120-120zM833.333 773.333c0 33-27 60-60 60h-540c-33 0-60-27-60-60v-540c0-33 27-60 60-60h540c33 0 60 27 60 60v540zM683.333 293.333h-240c-16.8 0-30 13.2-30 30s13.2 30 30 30h240c16.8 0 30-13.2 30-30s-13.2-30-30-30zM683.333 473.333h-240c-16.8 0-30 13.2-30 30s13.2 30 30 30h240c16.8 0 30-13.2 30-30s-13.2-30-30-30zM683.333 653.333h-240c-16.8 0-30 13.2-30 30s13.2 30 30 30h240c16.8 0 30-13.2 30-30s-13.2-30-30-30z\\\" fill=\\\"#272636\\\" p-id=\\\"5491\\\"></path></svg>\";","import componentBoxEditingLoader from './componentBoxEditingLoader';\nimport componentBoxUILoader from './componentBoxUILoader';\nimport componentBoxToolbarLoader from './componentBoxToolbarLoader';\n\nconst componentBoxLoader = libs => {\n  const { core } = libs;\n  const { Plugin } = core;\n  const ComponentBoxUI = componentBoxUILoader(libs),\n    ComponentBoxEditing = componentBoxEditingLoader(libs),\n    ComponentBoxToolbar = componentBoxToolbarLoader(libs);\n  return class ComponentBox extends Plugin {\n    static get pluginName() {\n      return 'ComponentBox';\n    }\n\n    static get requires() {\n      return [ComponentBoxUI, ComponentBoxEditing, ComponentBoxToolbar];\n    }\n  };\n};\n\nexport default componentBoxLoader;\n","// extracted by mini-css-extract-plugin\nexport default {\"editor\":\"style_editor__sRX1d__fhtbg\",\"word-count\":\"style_word-count__8OS-O__fhtbg\",\"surplus-count\":\"style_surplus-count__1Ml-M__fhtbg\",\"error\":\"style_error__0sOJZ__fhtbg\"};","import { createWithFetch } from '@kne/react-fetch';\nimport { getOrLoadRemote, getPublicPath } from '@kne/remote-loader';\n\nconst loadCKEditor = createWithFetch({\n  loading: null,\n  loader: async () => {\n    await getOrLoadRemote('ClassicEditor', '', getPublicPath('components-ckeditor') + '/ckeditor/ckeditor.js');\n    return { CKEditor: window.ClassicEditor };\n  }\n});\n\nexport default loadCKEditor;\n","import { useState } from 'react';\nimport style from './style.module.scss';\nimport { createWithRemoteLoader } from '@kne/remote-loader';\nimport loadCKEditor from '../../common/loadCKEditor';\nimport { CKEditor as CKEditorReact } from '@ckeditor/ckeditor5-react';\nimport classnames from 'classnames';\nimport useControlValue from '@kne/use-control-value';\nimport OssUploadAdapterPlugin from '@components/OssUploadAdapterPlugin';\nimport { App } from 'antd';\nimport './ckeditor.scss';\n\nconst CKContent = ({ className, value }) => {\n  return <div className={classnames('ck ck-content', className)} dangerouslySetInnerHTML={{ __html: value }} />;\n};\n\nconst Preset = createWithRemoteLoader({\n  modules: ['components-core:Global@usePreset']\n})(({ remoteModules, children }) => {\n  const [usePreset] = remoteModules;\n  const preset = usePreset();\n  return children(preset);\n});\n\nconst CKEditorField = loadCKEditor(({ className, config, pluginLoaders, data, maxLength, ...props }) => {\n  const [value, onChange] = useControlValue(props);\n  const { CKEditor } = data;\n  const [currentCharacters, setCurrentCharacters] = useState(0);\n  const { message } = App.useApp();\n\n  const plugins = pluginLoaders.map(pluginLoader => pluginLoader(CKEditor.libs));\n  return (\n    <div className={classnames(className, style['editor'])}>\n      <Preset>\n        {({ apis }) => {\n          return (\n            <CKEditorReact\n              {...props}\n              config={Object.assign(\n                {\n                  message,\n                  ossUpload: {\n                    upload: apis.ossStaticUpload,\n                    transform: apis.ossStaticTransform\n                  }\n                },\n                config,\n                {\n                  extraPlugins: [OssUploadAdapterPlugin, ...plugins]\n                }\n              )}\n              editor={CKEditor}\n              data={value}\n              onReady={editor => {\n                const wordCountPlugin = editor.plugins.get('WordCount');\n                setCurrentCharacters(wordCountPlugin.characters);\n              }}\n              onChange={(event, editor) => {\n                const wordCountPlugin = editor.plugins.get('WordCount');\n                if (maxLength && wordCountPlugin.characters > maxLength) {\n                  message.error('输入内容超过最大字符限制');\n                  editor.setData(value);\n                  return;\n                }\n                setCurrentCharacters(wordCountPlugin.characters);\n                const data = editor.getData();\n                onChange(data);\n              }}\n            />\n          );\n        }}\n      </Preset>\n      <div className={style['word-count']}>\n        <div>当前字符:{currentCharacters}</div>\n        <div\n          className={classnames(\n            style['surplus-count'],\n            maxLength && {\n              [style['error']]: maxLength - currentCharacters < 50\n            }\n          )}\n        >\n          剩余字符:{maxLength - currentCharacters}\n        </div>\n      </div>\n    </div>\n  );\n});\n\nconst defaultEditorConfig = {\n  wordCount: { displayWords: false },\n  toolbar: {\n    items: [\n      'undo',\n      'redo',\n      '|',\n      'heading',\n      'style',\n      '|',\n      'bold',\n      'italic',\n      'underline',\n      'strikethrough',\n      'link',\n      'bulletedList',\n      'numberedList',\n      'todoList',\n      'fontBackgroundColor',\n      'fontColor',\n      'fontSize',\n      '|',\n      'alignment',\n      'pageBreak',\n      'outdent',\n      'indent',\n      '|',\n      'specialCharacters',\n      'subscript',\n      'superscript',\n      '|',\n      'imageUpload',\n      'blockQuote',\n      'insertTable',\n      'highlight',\n      'horizontalLine',\n      '|',\n      'selectAll',\n      'removeFormat'\n    ]\n  },\n  list: {\n    properties: {\n      styles: true,\n      startIndex: true,\n      reversed: true\n    }\n  },\n  style: {\n    definitions: [\n      {\n        name: '主标题',\n        element: 'h2',\n        classes: ['primary-part-title']\n      },\n      {\n        name: '副标题',\n        element: 'h3',\n        classes: ['part-title']\n      },\n      {\n        name: '段落内容',\n        element: 'p',\n        classes: ['part-content']\n      },\n      {\n        name: '卡片',\n        element: 'p',\n        classes: ['card']\n      },\n      {\n        name: '重要卡片',\n        element: 'p',\n        classes: ['primary-card']\n      },\n      {\n        name: '关键字',\n        element: 'span',\n        classes: ['key-word']\n      }\n    ]\n  }\n};\n\nCKEditorField.defaultProps = {\n  maxLength: 5000,\n  pluginLoaders: [],\n  config: defaultEditorConfig\n};\n\nconst CKEditor = createWithRemoteLoader({\n  modules: ['components-core:FormInfo@hooks']\n})(({ remoteModules, ...props }) => {\n  const [hooks] = remoteModules;\n  const { useDecorator } = hooks;\n  const render = useDecorator(Object.assign({ placeholder: `请输入${props.label}` }, props));\n  return render(CKEditorField);\n});\n\nCKEditor.Field = CKEditorField;\nCKEditor.Content = CKContent;\nCKEditor.defaultEditorConfig = defaultEditorConfig;\nexport default CKEditor;\n","var _path, _path2;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nfunction SvgImgFail(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    t: 1695715120961,\n    className: \"icon\",\n    viewBox: \"0 0 1024 1024\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    \"p-id\": 2413,\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    width: 200,\n    height: 200,\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M696.43 465.25c40.61 0 73.53-32.72 73.53-73.09s-32.96-73.08-73.53-73.08-73.54 32.72-73.54 73.08 32.92 73.09 73.54 73.09zM535.74 650.62l-273.61-259.4a56.19 56.19 0 0 0-15.36 11.58l-114 119.63-6-222.77c-0.73-26.82 20.84-49.41 47.67-50.14l201.77-5.44 47.34-50-250.43 6.75C119 202.33 76.33 247.17 77.78 301l7.32 271.4 4.5 166.78C91.06 793 136.05 835.47 190.2 834l176-4.75 12-0.32 47.34-50 116.18-122.64z\",\n    \"p-id\": 2414\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M861.71 214.8l-242.83-33.86-55.09 41.46L855 263a49.05 49.05 0 0 1 41.79 55.13l-54.33 389.59-120.87-159.05A59.86 59.86 0 0 0 638.06 537l-44 33.08 65.07 86.15L603.84 698l-79.57 60.1-54.92 41.48 34.17 4.76 270.73 37.76a97.55 97.55 0 0 0 109.88-79.6 22.37 22.37 0 0 0 0.65-3.44l60.53-434.16c7.44-53.32-29.95-102.62-83.6-110.1z\",\n    \"p-id\": 2415\n  })));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgImgFail);\nexport default __webpack_public_path__ + \"static/media/img_fail.92f698baf5c5ad60bf4437eb46f9525a.svg\";\nexport { ForwardRef as ReactComponent };","import imgFail from './img_fail.svg';\n\nclass OssUploadAdapter {\n  constructor(loader, options) {\n    this.loader = loader;\n    this.options = options;\n  }\n\n  async upload() {\n    const file = await this.loader.file;\n    if (typeof this.options.upload !== 'function') {\n      console.warn('当前图片上传为base64模式，正式环境请在preset apis设置ossStaticUpload,或者给CKEditor组件传入 config.ossUpload.upload参数');\n      const data = await new Promise(resolve => {\n        const fileReader = new FileReader();\n        fileReader.onload = () => {\n          resolve(fileReader.result);\n        };\n        fileReader.readAsDataURL(file);\n      });\n      return {\n        default: data\n      };\n    }\n    const { code, data, msg } = await this.options.upload({ file });\n    if (code !== 0) {\n      this.options.message.error(msg);\n      return { default: imgFail };\n    }\n    return {\n      default: data\n    };\n  }\n}\n\nfunction OssUploadAdapterPlugin(editor) {\n  const message = editor.config.get('message');\n  const options = Object.assign({}, { message }, editor.config.get('ossUpload'));\n  editor.plugins.get('FileRepository').createUploadAdapter = loader => {\n    return new OssUploadAdapter(loader, options);\n  };\n  editor.editing.view.document.on('clipboardInput', (evt, data) => {\n    if (editor.isReadOnly) {\n      return;\n    }\n\n    const dataTransfer = data.dataTransfer;\n    const html = dataTransfer.getData('text/html');\n    const parser = new DOMParser();\n    const domDocument = parser.parseFromString(html, 'text/html');\n    if (domDocument.querySelectorAll('img').length === 0) {\n      return;\n    }\n    data.content = editor.data.htmlProcessor.toView('');\n    const loadingClose = message.loading('粘贴内容中含有图片，正在进行图片上传...', { duration: 0 });\n    Promise.all(\n      [].slice.call(domDocument.querySelectorAll('img'), 0).map(async img => {\n        if (typeof options.transform !== 'function') {\n          console.warn('图片上传失败，请在preset apis设置ossStaticTransform,或者给CKEditor组件传入 config.ossUpload.transform参数');\n          return;\n        }\n        const { code, data, msg } = await options.transform({ url: img.src });\n        if (code !== 0) {\n          console.warn(`图片上传失败，${msg}`);\n          img.src = imgFail;\n          return;\n        }\n        img.src = data;\n      })\n    )\n      .then(() => {\n        editor.model.insertContent(editor.data.toModel(editor.data.htmlProcessor.toView(domDocument.documentElement.outerHTML)));\n      })\n      .finally(() => {\n        loadingClose();\n      });\n  });\n}\n\nexport default OssUploadAdapterPlugin;\n"],"names":["name","summary","api","example","isFull","className","style","list","title","description","code","scope","packageName","component","_ref","core","widget","Command","Plugin","toWidget","Widget","InsertProductPreviewCommand","execute","_ref2","type","props","this","editor","model","change","writer","insertContent","createElement","refresh","selection","document","allowedIn","schema","findAllowedParent","getFirstPosition","isEnabled","requires","init","_defineSchema","_defineConverters","commands","add","register","inheritAllFrom","allowAttributes","_editor$config$get","conversion","componentBoxList","config","get","for","elementToElement","viewElement","_ref3","getAttribute","view","classes","createSection","modelElement","_ref4","section","createContainerElement","class","JSON","stringify","componentWrapper","createRawElement","element","_componentBoxList$fin","_componentBoxList$fin2","find","item","call","insert","createPositionAt","_ref5","_ref6","label","hasSelectionHandle","ui","addToolbarToDropdown","ButtonView","createDropdown","View","PanelView","constructor","locale","children","super","setTemplate","tag","attributes","role","t","length","componentFactory","local","enabledDropdown","buttonView","set","withText","icon","tooltip","panelView","map","defaultProps","listenTo","arguments","getClosestSelectedWidget","mapper","editing","getSelectedElement","toModelElement","pluginName","icons","BalloonPanelView","ContextualBalloon","createLabeledInputText","CssTransitionDisablerMixin","LabeledFieldView","LabelView","submitHandler","WidgetToolbarRepository","ComponentBoxUtil","componentBoxUtilLoader","getBalloonPositionData","editingView","defaultPositions","componentBoxUtil","plugins","target","domConverter","mapViewToDom","positions","northArrowSouth","northArrowSouthWest","northArrowSouthEast","southArrowNorth","southArrowNorthWest","southArrowNorthEast","viewportStickyNorth","ComponentBoxToolbarForm","abbrInputView","_createInput","titleInputView","saveButtonView","_createButton","check","cancelButtonView","cancel","text","childViews","createCollection","tabindex","render","focus","first","labeledInput","button","ComponentBoxToolbarUI","_isVisible","_balloon","visibleView","_form","_isInBalloon","hasView","destroy","_showForm","_createForm","viewDocument","_hideForm","console","log","keystrokes","balloon","position","updatePosition","repositionContextualBalloon","_this$_balloon","disableCssTransitions","enableCssTransitions","focusEditable","undefined","focusTracker","isFocused","remove","afterInit","items","getRelatedElement","libs","ComponentBoxUI","componentBoxUILoader","ComponentBoxEditing","componentBoxEditingLoader","ComponentBoxToolbar","componentBoxToolbarLoader","createWithFetch","loading","loader","async","getOrLoadRemote","getPublicPath","CKEditor","window","ClassicEditor","Preset","createWithRemoteLoader","modules","remoteModules","usePreset","CKEditorField","loadCKEditor","pluginLoaders","data","maxLength","value","onChange","useControlValue","currentCharacters","setCurrentCharacters","useState","message","App","useApp","pluginLoader","_jsxs","classnames","_jsx","apis","CKEditorReact","Object","assign","ossUpload","upload","ossStaticUpload","transform","ossStaticTransform","extraPlugins","OssUploadAdapterPlugin","onReady","wordCountPlugin","characters","event","error","setData","getData","defaultEditorConfig","wordCount","displayWords","toolbar","properties","styles","startIndex","reversed","definitions","hooks","useDecorator","placeholder","concat","Field","Content","dangerouslySetInnerHTML","__html","OssUploadAdapter","options","file","warn","default","Promise","resolve","fileReader","FileReader","onload","result","readAsDataURL","msg","imgFail","createUploadAdapter","on","evt","isReadOnly","html","dataTransfer","domDocument","DOMParser","parseFromString","querySelectorAll","content","htmlProcessor","toView","loadingClose","duration","all","slice","url","img","src","then","toModel","documentElement","outerHTML","finally"],"sourceRoot":""}