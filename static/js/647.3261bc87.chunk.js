/*! For license information please see 647.3261bc87.chunk.js.LICENSE.txt */
(self.webpackChunk_kne_components_components_ckeditor=self.webpackChunk_kne_components_components_ckeditor||[]).push([[156,637,647],{998:(e,t,o)=>{"use strict";var r=o(3884),s=Symbol.for("react.element"),n=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,l=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,o){var r,n={},c=null,d=null;for(r in void 0!==o&&(c=""+o),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)a.call(t,r)&&!i.hasOwnProperty(r)&&(n[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===n[r]&&(n[r]=t[r]);return{$$typeof:s,type:e,key:c,ref:d,props:n,_owner:l.current}}t.jsx=c,t.jsxs=c},2399:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>n});var r=o(4037);class s{constructor(e,t){this.loader=e,this.options=t}async upload(){const e=await this.loader.file;if("function"!==typeof this.options.upload){console.warn("\u5f53\u524d\u56fe\u7247\u4e0a\u4f20\u4e3abase64\u6a21\u5f0f\uff0c\u6b63\u5f0f\u73af\u5883\u8bf7\u5728preset apis\u8bbe\u7f6efile.upload,\u6216\u8005\u7ed9CKEditor\u7ec4\u4ef6\u4f20\u5165 config.ossUpload.upload\u53c2\u6570");return{default:await new Promise((t=>{const o=new FileReader;o.onload=()=>{t(o.result)},o.readAsDataURL(e)}))}}const{code:t,data:o,msg:s}=await this.options.upload({file:e});return 0!==t?(this.options.message.error(s),{default:r.A}):{default:o}}}const n=function(e){const t=e.config.get("message"),o=Object.assign({},{message:t},e.config.get("ossUpload"));e.plugins.get("FileRepository").createUploadAdapter=e=>new s(e,o),e.editing.view.document.on("clipboardInput",((s,n)=>{if(e.isReadOnly)return;const a=n.dataTransfer.getData("text/html"),l=(new DOMParser).parseFromString(a,"text/html");if(0===l.querySelectorAll("img").length)return;n.content=e.data.htmlProcessor.toView("");const i=t.loading("\u7c98\u8d34\u5185\u5bb9\u4e2d\u542b\u6709\u56fe\u7247\uff0c\u6b63\u5728\u8fdb\u884c\u56fe\u7247\u4e0a\u4f20...",{duration:0});Promise.all([].slice.call(l.querySelectorAll("img"),0).map((async e=>{if("function"!==typeof o.uploadUrl)return void console.warn("\u56fe\u7247\u4e0a\u4f20\u5931\u8d25\uff0c\u8bf7\u5728preset apis\u8bbe\u7f6efile.uploadUrl,\u6216\u8005\u7ed9CKEditor\u7ec4\u4ef6\u4f20\u5165 config.ossUpload.uploadUrl\u53c2\u6570");const{code:t,data:s,msg:n}=await o.uploadUrl({url:e.src});if(0!==t)return console.warn(`\u56fe\u7247\u4e0a\u4f20\u5931\u8d25\uff0c${n}`),void(e.src=r.A);e.src=s}))).then((()=>{e.model.insertContent(e.data.toModel(e.data.htmlProcessor.toView(l.documentElement.outerHTML)))})).finally((()=>{i()}))}))}},3446:(e,t,o)=>{"use strict";e.exports=o(998)},3647:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>O});var r=o(3884);const s="style_editor__sRX1d__2dkHl",n="style_word-count__8OS-O__2dkHl",a="style_surplus-count__1Ml-M__2dkHl",l="style_error__0sOJZ__2dkHl";var i=o(3050),c=o(7558),d=o.n(c);const u={loading:null,loader:async e=>{let{params:t}=e;const o=(null===t||void 0===t?void 0:t.locale)||"zh-cn";return await(0,i.getOrLoadRemote)("ClassicEditor","",(0,i.getPublicPath)("components-ckeditor")+`/ckeditor/${"zh-cn"===o?"zh-cn":"en"}/ckeditor.js`),{CKEditor:window.ClassicEditor}}};(0,c.createWithFetch)(u);var p=o(252),f=o(4156),m=o.n(f),g=o(8529),h=o.n(g),_=o(2399),y=o(5199),v=o(3446);const w={wordCount:{displayWords:!1},toolbar:{items:["undo","redo","|","heading","style","|","bold","italic","underline","strikethrough","link","bulletedList","numberedList","todoList","fontBackgroundColor","fontColor","fontSize","|","alignment","pageBreak","outdent","indent","|","specialCharacters","subscript","superscript","|","imageUpload","blockQuote","insertTable","highlight","horizontalLine","|","selectAll","removeFormat"]},list:{properties:{styles:!0,startIndex:!0,reversed:!0}},style:{definitions:[{name:"\u4e3b\u6807\u9898",element:"h2",classes:["primary-part-title"]},{name:"\u526f\u6807\u9898",element:"h3",classes:["part-title"]},{name:"\u6bb5\u843d\u5185\u5bb9",element:"p",classes:["part-content"]},{name:"\u5361\u7247",element:"p",classes:["card"]},{name:"\u91cd\u8981\u5361\u7247",element:"p",classes:["primary-card"]},{name:"\u5173\u952e\u5b57",element:"span",classes:["key-word"]}]}},b=e=>{let{locale:t,config:o,pluginLoaders:r=[],...s}=e;const{message:n}=y.App.useApp();return(0,v.jsx)(d(),{...Object.assign({},u,{params:{locale:t}}),render:e=>{let{data:t}=e;const{CKEditor:a}=t,l=r.map((e=>e(a.libs)));return(0,v.jsx)(p.CKEditor,{...s,editor:a,config:Object.assign({},{message:n},o,{extraPlugins:[_.default,...l]})})}})},k=(0,i.createWithRemoteLoader)({modules:["components-core:Global@usePreset"]})((e=>{var t,o;let{remoteModules:i,...c}=e;const[d]=i,{apis:u,locale:p}=d(),{className:f,config:g,pluginLoaders:_,data:k,maxLength:C,wordCount:O,...x}=Object.assign({},{maxLength:5e3,pluginLoaders:[],wordCount:!1,config:w},c),[j,L]=h()(x),[S,A]=(0,r.useState)(0),{message:E}=y.App.useApp();return(0,v.jsxs)("div",{className:m()(f,s),children:[(0,v.jsx)(b,{locale:p,onReady:e=>{const t=e.plugins.get("WordCount");A(t.characters)},data:j,onChange:(e,t)=>{const o=t.plugins.get("WordCount");if(C&&o.characters>C)return E.error("\u8f93\u5165\u5185\u5bb9\u8d85\u8fc7\u6700\u5927\u5b57\u7b26\u9650\u5236"),void t.setData(j);A(o.characters);const r=t.getData();L(r)},config:{ossUpload:{upload:null===u||void 0===u||null===(t=u.file)||void 0===t?void 0:t.upload,uploadUrl:null===u||void 0===u||null===(o=u.file)||void 0===o?void 0:o.uploadUrl}}}),O&&(0,v.jsxs)("div",{className:n,children:[(0,v.jsxs)("div",{children:["\u5f53\u524d\u5b57\u7b26:",S]}),(0,v.jsxs)("div",{className:m()(a,C&&{[l]:C-S<50}),children:["\u5269\u4f59\u5b57\u7b26:",C-S]})]})]})})),C=(0,i.createWithRemoteLoader)({modules:["components-core:FormInfo@hooks"]})((e=>{let{remoteModules:t,...o}=e;const[r]=t,{useDecorator:s}=r;return s(Object.assign({},o))(k)}));C.Field=k,C.Content=e=>{let{className:t,value:o}=e;return(0,v.jsx)("div",{className:m()("ck ck-content",t),dangerouslySetInnerHTML:{__html:o}})},C.defaultEditorConfig=w;const O=C},4037:(e,t,o)=>{"use strict";o.d(t,{A:()=>r});o(3884);const r=o.p+"static/media/img_fail.92f698baf5c5ad60bf4437eb46f9525a.svg"},4156:(e,t)=>{var o;!function(){"use strict";var r={}.hasOwnProperty;function s(){for(var e="",t=0;t<arguments.length;t++){var o=arguments[t];o&&(e=a(e,n(o)))}return e}function n(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return s.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var o in e)r.call(e,o)&&e[o]&&(t=a(t,o));return t}function a(e,t){return t?e?e+" "+t:e+t:e}e.exports?(s.default=s,e.exports=s):void 0===(o=function(){return s}.apply(t,[]))||(e.exports=o)}()}}]);
//# sourceMappingURL=647.3261bc87.chunk.js.map