{"version":3,"file":"static/js/544.abade497.chunk.js","mappings":"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","sources":["../node_modules/react/cjs/react-jsx-runtime.production.min.js","components/OssUploadAdapterPlugin/index.js","../node_modules/react/jsx-runtime.js","../node_modules/classnames/index.js","../node_modules/readme/modules.js"],"sourcesContent":["/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var f=require(\"react\"),k=Symbol.for(\"react.element\"),l=Symbol.for(\"react.fragment\"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,g){var b,d={},e=null,h=null;void 0!==g&&(e=\"\"+g);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(h=a.ref);for(b in a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.Fragment=l;exports.jsx=q;exports.jsxs=q;\n","import imgFail from './img_fail.svg';\n\nclass OssUploadAdapter {\n    constructor(loader, options) {\n        this.loader = loader;\n        this.options = options;\n    }\n\n    async upload() {\n        const file = await this.loader.file;\n        if (typeof this.options.upload !== 'function') {\n            console.warn('当前图片上传为base64模式，正式环境请在preset apis设置file.upload,或者给CKEditor组件传入 config.ossUpload.upload参数');\n            const data = await new Promise(resolve => {\n                const fileReader = new FileReader();\n                fileReader.onload = () => {\n                    resolve(fileReader.result);\n                };\n                fileReader.readAsDataURL(file);\n            });\n            return {\n                default: data\n            };\n        }\n        const {code, data, msg} = await this.options.upload({file});\n        if (code !== 0) {\n            this.options.message.error(msg);\n            return {default: imgFail};\n        }\n        return {\n            default: data\n        };\n    }\n}\n\nfunction OssUploadAdapterPlugin(editor) {\n    const message = editor.config.get('message');\n    const options = Object.assign({}, {message}, editor.config.get('ossUpload'));\n    editor.plugins.get('FileRepository').createUploadAdapter = loader => {\n        return new OssUploadAdapter(loader, options);\n    };\n    editor.editing.view.document.on('clipboardInput', (evt, data) => {\n        if (editor.isReadOnly) {\n            return;\n        }\n\n        const dataTransfer = data.dataTransfer;\n        const html = dataTransfer.getData('text/html');\n        const parser = new DOMParser();\n        const domDocument = parser.parseFromString(html, 'text/html');\n        if (domDocument.querySelectorAll('img').length === 0) {\n            return;\n        }\n        data.content = editor.data.htmlProcessor.toView('');\n        const loadingClose = message.loading('粘贴内容中含有图片，正在进行图片上传...', {duration: 0});\n        Promise.all([].slice.call(domDocument.querySelectorAll('img'), 0).map(async img => {\n            if (typeof options.uploadUrl !== 'function') {\n                console.warn('图片上传失败，请在preset apis设置file.uploadUrl,或者给CKEditor组件传入 config.ossUpload.uploadUrl参数');\n                return;\n            }\n            const {code, data, msg} = await options.uploadUrl({url: img.src});\n            if (code !== 0) {\n                console.warn(`图片上传失败，${msg}`);\n                img.src = imgFail;\n                return;\n            }\n            img.src = data;\n        }))\n            .then(() => {\n                editor.model.insertContent(editor.data.toModel(editor.data.htmlProcessor.toView(domDocument.documentElement.outerHTML)));\n            })\n            .finally(() => {\n                loadingClose();\n            });\n    });\n}\n\nexport default OssUploadAdapterPlugin;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","/*!\n\tCopyright (c) 2018 Jed Watson.\n\tLicensed under the MIT License (MIT), see\n\thttp://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = '';\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (arg) {\n\t\t\t\tclasses = appendClass(classes, parseValue(arg));\n\t\t\t}\n\t\t}\n\n\t\treturn classes;\n\t}\n\n\tfunction parseValue (arg) {\n\t\tif (typeof arg === 'string' || typeof arg === 'number') {\n\t\t\treturn arg;\n\t\t}\n\n\t\tif (typeof arg !== 'object') {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (Array.isArray(arg)) {\n\t\t\treturn classNames.apply(null, arg);\n\t\t}\n\n\t\tif (arg.toString !== Object.prototype.toString && !arg.toString.toString().includes('[native code]')) {\n\t\t\treturn arg.toString();\n\t\t}\n\n\t\tvar classes = '';\n\n\t\tfor (var key in arg) {\n\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\tclasses = appendClass(classes, key);\n\t\t\t}\n\t\t}\n\n\t\treturn classes;\n\t}\n\n\tfunction appendClass (value, newClass) {\n\t\tif (!newClass) {\n\t\t\treturn value;\n\t\t}\n\t\n\t\tif (value) {\n\t\t\treturn value + ' ' + newClass;\n\t\t}\n\t\n\t\treturn value + newClass;\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","import ComponentBox from '@components/ComponentBox/README.md';\nimport Editor from '@components/Editor/README.md';export default {ComponentBox,Editor};\nexport const manifest = {\"name\":\"components-ckeditor\",\"version\":\"0.2.0\",\"open-version\":true,\"public-url\":\"/components-ckeditor\",\"modules\":[{\"name\":\"ComponentBox\",\"baseDir\":\"/home/runner/work/components-ckeditor/components-ckeditor/src/components/ComponentBox\"},{\"name\":\"Editor\",\"baseDir\":\"/home/runner/work/components-ckeditor/components-ckeditor/src/components/Editor\"}]};"],"names":["f","require","k","Symbol","for","l","m","Object","prototype","hasOwnProperty","n","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","ReactCurrentOwner","p","key","ref","__self","__source","q","c","a","g","b","d","e","h","call","defaultProps","$$typeof","type","props","_owner","current","exports","jsx","jsxs","OssUploadAdapter","constructor","loader","options","this","upload","file","console","warn","default","Promise","resolve","fileReader","FileReader","onload","result","readAsDataURL","code","data","msg","message","error","imgFail","editor","config","get","assign","plugins","createUploadAdapter","editing","view","document","on","evt","isReadOnly","html","dataTransfer","getData","domDocument","DOMParser","parseFromString","querySelectorAll","length","content","htmlProcessor","toView","loadingClose","loading","duration","all","slice","map","async","uploadUrl","url","img","src","then","model","insertContent","toModel","documentElement","outerHTML","finally","module","hasOwn","classNames","classes","i","arguments","arg","appendClass","parseValue","Array","isArray","apply","toString","includes","value","newClass","ComponentBox","Editor","manifest"],"sourceRoot":""}